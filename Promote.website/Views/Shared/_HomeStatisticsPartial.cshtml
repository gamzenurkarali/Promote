<section class="statistics-section" style="background-color: @Model.StatisticSectionBgColor">

    <div class="happy-customer">
        <div class="numbers">
            <h1 id="1">0</h1>
        </div>
        <div class="title-for-numbers">@Model.Statistic1Title</div>
    </div>

    <div class="happy-customer">
        <div class="numbers">
            <h1 id="2">0</h1>
        </div>
        <div class="title-for-numbers">@Model.Statistic2Title</div>
    </div>

    <div class="happy-customer">
        <div class="numbers">
            <h1 id="3">0</h1>
        </div>
        <div class="title-for-numbers">@Model.Statistic3Title</div>
    </div>

    <div class="happy-customer">
        <div class="numbers">
            <h1 id="4">0</h1>
        </div>
        <div class="title-for-numbers">@Model.Statistic4Title</div>
    </div>

    <script>
        function increment(elem, finalVal) {
            var element = document.getElementById(elem);
            var currVal = parseInt(element.innerHTML,10);

            if (currVal < finalVal) {
                currVal++;
                element.innerHTML = currVal;

                setTimeout(function () {
                    increment(elem, finalVal);
                }, 0);//40ms idi
            }
        }

        function handleWaypoint(id, finalVal) {
            var offset = '75%'; // Adjust the offset as needed
            var waypointElement = document.getElementById(id);

            function handleScroll() {
                var rect = waypointElement.getBoundingClientRect();
                var isVisible = rect.top < window.innerHeight * 0.75 && rect.bottom >= 0;

                if (isVisible) {
                    increment(id, finalVal);
                    window.removeEventListener('scroll', handleScroll);
                }
            }

            window.addEventListener('scroll', handleScroll);
        }

        handleWaypoint('1', @Model.Statistic1Number);
        handleWaypoint('2', @Model.Statistic2Number);
        handleWaypoint('3', @Model.Statistic3Number);
        handleWaypoint('4', @Model.Statistic4Number);

    </script>

</section>